.workspace-leaf-content[data-type="vault-terminal"] .view-content {
	overflow: clip;
	display: flex;
	flex-direction: column;
}

.vault-terminal {
	height: 100%;
	min-height: 0;
	display: flex;
	flex-direction: column;
	padding: 8px 12px;
	padding-bottom: calc(8px + var(--status-bar-height, 0px) + env(safe-area-inset-bottom, 0px));
	box-sizing: border-box;
	background-color: var(--background-secondary);
	overflow: hidden;
}

.vault-terminal-host {
	flex: 1;
	min-height: 0;
	overflow: hidden;
	position: relative;
	background-color: var(--background-secondary);
	overscroll-behavior: contain;
}

.vault-terminal-host .xterm {
	height: 100%;
	/* DO NOT add padding here - it breaks xterm canvas character positioning */
	background-color: var(--background-secondary) !important;
}

.vault-terminal-host .xterm .xterm-screen {
	background-color: var(--background-secondary) !important;
}

.vault-terminal-host .xterm-viewport {
	overflow-y: auto !important;
	overflow-x: auto !important; /* Allow horizontal scroll for long filenames */
	background-color: var(--background-secondary) !important;
	overscroll-behavior: contain;
	scrollbar-gutter: stable;
}

/* Ensure terminal rows don't get clipped */
.vault-terminal-host .xterm-rows {
	overflow: visible;
}

/* Keep the hidden textarea invisible but focusable for mobile keyboard */
.vault-terminal-host .xterm .xterm-helper-textarea {
	opacity: 0 !important;
	/* Don't use width:0/height:0 or position off-screen - breaks mobile keyboard */
}

/* Mobile arrow key controls */
.mobile-arrow-controls {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 8px;
	padding: 8px;
	background: var(--background-primary);
	border-top: 1px solid var(--background-modifier-border);
	flex-shrink: 0;
}

.mobile-arrow-controls .arrow-btn,
.mobile-arrow-controls .special-btn {
	width: 44px;
	height: 44px;
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
	background: var(--background-secondary);
	color: var(--text-normal);
	font-size: 18px;
	font-weight: bold;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	-webkit-tap-highlight-color: transparent;
	user-select: none;
}

.mobile-arrow-controls .special-btn {
	width: auto;
	padding: 0 12px;
	font-size: 14px;
}

.mobile-arrow-controls .arrow-btn.pressed,
.mobile-arrow-controls .special-btn.pressed {
	background: var(--interactive-accent);
	color: var(--text-on-accent);
	transform: scale(0.95);
}

.mobile-arrow-controls .arrow-btn:active,
.mobile-arrow-controls .special-btn:active {
	background: var(--interactive-accent);
}
